<ion-header>
  <ion-toolbar>
    <ion-title>Estadisticas de accionamiento de electrovalvula entre fechas </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
      <ion-row class="ion-align-items-center">
        <ion-col size-md='12'  size-sm='12'  size-xs='12' >
          <h4>Seleccione Rango de fechas para la consulta:</h4>
        </ion-col>
      </ion-row>
      <ion-row class="ion-align-items-center">
        <ion-col size-md='12'  size-sm='12'  size-xs='12' >
          <mat-form-field>
          <!--<label for="pickerIni"><b>Fecha inicio:</b></label>-->
            <input matInput [matDatepicker]="pickerIni" placeholder="Elegir Fecha Inicio" [(ngModel)]="fechaDateIni">
            <mat-datepicker-toggle matSuffix [for]="pickerIni">
              <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
            </mat-datepicker-toggle>
          <mat-datepicker #pickerIni [startAt]="fecIni" ></mat-datepicker>
        </mat-form-field>
        </ion-col>
      </ion-row>
      <ion-row class="ion-align-items-center">
        <ion-col size-md='12'  size-sm='12'  size-xs='12' >
          <mat-form-field>
          <!--<label for="pickerFin"><b>Fecha Fin:</b></label>&nbsp;-->
            <input matInput [matDatepicker]="pickerFin" placeholder="Elegir Fecha Fin" [(ngModel)]="fechaDateFin">
            <mat-datepicker-toggle matSuffix [for]="pickerFin">
              <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
            </mat-datepicker-toggle>
          <mat-datepicker #pickerFin [startAt]="fecFin" ></mat-datepicker>
        </mat-form-field>
        </ion-col>
      </ion-row>    
  
      <ion-row class="ion-align-items-center">
        <ion-col size-md='12'  size-sm='12'  size-xs='12' >
          <ion-button color="primary" size="small" id="actualizar" (click)="cargarValoresGrafico()" >Consultar</ion-button>
        </ion-col>
      </ion-row>     

      <BR><BR>
    <ion-row class="ion-align-items-center">
      <ion-col size-md='12'  size-sm='12'  size-xs='12' >
        <h3>Accionamientos de electrovalvula</h3>
      </ion-col>
    </ion-row>

    <ion-row class="ion-align-items-center borde" >
      <ion-col size-md='12'  size-sm='12'  size-xs='12' >
        <div class="chart-wrapper">
          <canvas baseChart 
          [datasets]="lineChartData"
          [labels]="lineChartLabels"
          [options]="lineChartOptions"
          [plugins]="lineChartPlugins"
          [legend]="lineChartLegend"
          [chartType]="lineChartType">
        </canvas>
        </div>
      </ion-col>
    </ion-row>  

    <ion-row class="ion-align-items-center">
      <ion-col size-md='12'  size-sm='12'  size-xs='12' >
        <h6>Referencias</h6>
        <p>0 = Electrovalula OFF</p>
        <p>1 = Electrovalula ON</p>
      </ion-col>
    </ion-row>

    <ion-row class="ion-align-items-center">
      <ion-col size-md='12'  size-sm='12'  size-xs='12' >
          <h3 *ngIf="listadoDatos.length > 0" >Log de eventos</h3>
        <ul>
          <li *ngFor="let item of listadoDatos">Fecha: {{item.fecha}} - Estado: {{item.estado}}</li>
        </ul>
      </ion-col>
    </ion-row>

</ion-grid>
</ion-content>